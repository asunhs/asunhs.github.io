---
layout: post
title: "Angular 중급 활용"
published: true
tags: [angular, note]
---

# Angular 지식 조각

## 1. 템플릿이 Angular에 해석되는 과정

```javascript
// template html
var template = '<div>{{hello}}</div>'

// compile template
var linker = $compile(template);

// link scope
var element = linker(scope);
```

## 2. Directive 의 Scope 종류

Scope의 종류
- scope: false (default)
- scope: true
- scope: {}

### scope: false
parent scope을 그대로 쓴다. directive 내에서 조작한 scope 내용은 고스란히 parent에 영향을 끼친다.

### scope: true
parent scope을 상속한다. parent 요소에 접근하는 것은 얼마든지 가능하지만 조작한 내용은 directive 안에서만 영향을 미치며 parent에 전달되지 않는다.
좀 더 자세히 말하면 상속한 객체에 새로 추가된 property는 parent의 속성을 overwrite 하게 되며 그 순간 child 만의 property 가 되기 때문이다.

### scope: {}
isolate scope 이라고 하며, parent scope과 무관한 상태가 된다. parent 속성에 접근하려면 scope.parent를 통해 접근하거나 interface를 통해 전달받는 방법으로 가능하다.

<!-- more -->

## 3. transcludeFn
`transclude: true`, `ng-transclude`를 활용한 transclude 기법 외에 좀 더 programmatic 한 방법이 있다. `transclude: 'element'`와 complie의 3번째 인자를 사용하는 방법이다.

```javascript
myApp.directive('sampleDirective', function () {
    return {
        transclude: 'element',
        compile: function (tElem, tAttrs, transcludeFn) {
            // link
            return function (scope, element, attrs) {
                transcludeFn(scope, function (cloneElement) {
                    // cloneElement : All children inside directive dom
                }
            }
        }
    };
})
```

