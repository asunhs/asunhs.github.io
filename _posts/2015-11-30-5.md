---
layout: post
title: "Google Fusion Tables"
published: true
tags: [fusion tables, google]
---

[Google Fusion Tables](http://tables.googlelabs.com)는 *Google Apps*의 하나로 준비중인 **Experimental App**이다. *Data Visualization Web Application*을 표방하고 있는 이 서비스는 *Mircosoft Office Access*와 비슷한 제품군에 Programatic한 추가적 기능들을 녹여낼 것으로 보인다.


# About Fusion Tables

구글의 Experimental App 단계인 *Fusion Tables*는 데이터를 테이블에 담아 활용 및 가공하는 기능을 제공하는 App이다. `SQL`을 사용하여 데이터를 다룰 수 있으며 채워진 데이터를 기본적으로 *Row Layout*, *Card Layout*, *Summary*, *Chart*, *Map* 형태의 View를 제공하고 *Google Apps Script*와 함께 활용하거나 REST API를 제공하여 Web을 통해서도 활용될 수 있다.  

<!-- more -->

**Google Apps Script**는 UI 및 Service 로직을 Web 환경에서 제공할 수 있는 기초를 가지고 있다. 여기에 Data Store를 위한 공간 혹은 도구가 있다면 좀 더 효용있는 서비스를 구축할 수 있겠다. 이를 위해서 *Google Spread Sheet*를 데이터 기록용으로 쓰거나 **Google Apps Script**에서 기본적으로 지원하는 `CacheService`, `PropertiesService`를 *Key-Value Store*로 사용하기도 했다.  
여기서 좀 더 정비된 데이터 모델을 원한다면 좋은 대안은 **Fusion Tables**가 될 수 있다. Table은 RDB를 사용해본 사람이라면 익숙한 데이터 모델링 도구일 것이다. 다른 *Fusion Tables*와 Join하여 사용도 가능하며 권한 범위 하에서 다른 유저의 Table과 활용도 가능하다.

*Fusion Tables*는 Data Visualization 혹은 Data Collaboration 등을 위해서 준비중인 서비스를 표방하고 있지만 필자는 가장 기초적인 Web Apps을 위한 Persistence Layer 도구로 소개하고자 한다.  


# REST API

*Fusion Tables*는 DDL(Data Definition Language), DML(Data Manipulation Language) 모두에 대해서 REST API를 제공하고 있다. 따라서, 웹에서 직접 REST API 호출을 통해 테이블 및 데이터를 다룰 수 있다.
이를 위해서 기본적으로 구글 OAuth 2.0 인증을 요구하며 [Google Apps Script (2)](/4)에서 설명한 OAuth 2.0 Setting을 참고해 주시길 바란다. 
이 때, Google API 사용설정에서 Fusion Tables API 의 사용을 설정해야 한다.

![Fusion Tables API](/images/posts/fusion-tables-google-api.png)

그리고 *Fusion Tables*를 사용하기 위한 OAuth 2.0 Scope은 다음과 같다.

```javascript
var SCOPES = [
    'https://www.googleapis.com/auth/fusiontables',
    'https://www.googleapis.com/auth/fusiontables.readonly'
];
```

더 자세한 내용은 [https://developers.google.com/fusiontables/docs/v2/reference/](https://developers.google.com/fusiontables/docs/v2/reference/)을 참고하자.


# Google Apps Script

*Google Apps Script*에서도 *Fusion Tables API*를 제공하고 있다. 이를 통해서 Server-side 로직과 함께 데이터를 다룰 수 있겠다.

## 1. 사용 설정

*Google Apps Script*는 고급 기술 혹은 실험적인 기술들을 사용하기 위한 설정을 갖추고 있다. *리소스 > 고급 Google 서비스*로 들어가면 여러 Google의 다른 서비스들을 사용할 수 있는 스위치들이 있고, 그 중에 *Fusion Tables API*를 켜면 `FusionTables`라는 이름으로 API를 Script 안에서 사용할 수 있다.

![Using Fusion Tables API](/images/posts/fusion-tables-api.png)





- API 권한




-------------------------------------
- (PDF) Google Fusion Tables: Data Management, Integration and Collaboration in the Cloud  
[http://homes.cs.washington.edu/~alon/files/socc10.pdf](http://homes.cs.washington.edu/~alon/files/socc10.pdf)
- REST API  
[https://developers.google.com/fusiontables/docs/v2/reference/](https://developers.google.com/fusiontables/docs/v2/reference/)